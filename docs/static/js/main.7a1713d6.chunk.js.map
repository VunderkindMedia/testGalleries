{
  "version": 3,
  "sources": [
    "context/app/AppContext.js",
    "components/Button.js",
    "components/DDUploadProvider.js",
    "components/FilesUploader.js",
    "components/ActivityIndicator.js",
    "components/DeleteButton.js",
    "components/Gallery.js",
    "App.js",
    "context/app/types.js",
    "context/app/AppReducer.js",
    "context/app/AppState.js",
    "reportWebVitals.js",
    "index.js"
  ],
  "names": [
    "AppContext",
    "createContext",
    "Button",
    "color",
    "moreClassName",
    "title",
    "onClick",
    "disabled",
    "style",
    "backgroundColor",
    "className",
    "DDUploadProvider",
    "children",
    "onChange",
    "dropRef",
    "useRef",
    "useState",
    "draggable",
    "setDraggable",
    "dragCounter",
    "setDragCounter",
    "useEffect",
    "handleDrag",
    "e",
    "preventDefault",
    "stopPropagation",
    "handleDragIn",
    "prev",
    "handleDragOut",
    "handleDrop",
    "dataTransfer",
    "files",
    "dragElement",
    "current",
    "addEventListener",
    "removeEventListener",
    "ref",
    "FilesUploader",
    "history",
    "useHistory",
    "imageFiles",
    "setImageFiles",
    "jsonFiles",
    "setJsonFile",
    "jsonError",
    "setJsonError",
    "url",
    "setURL",
    "error",
    "setError",
    "useContext",
    "uploadImages",
    "dragUploadImage",
    "onUploadFromUrl",
    "uploadInput",
    "onFileChange",
    "length",
    "Object",
    "values",
    "some",
    "file",
    "type",
    "filter",
    "onFileUpload",
    "then",
    "push",
    "catch",
    "map",
    "i",
    "name",
    "target",
    "multiple",
    "placeholder",
    "value",
    "console",
    "log",
    "flex",
    "ActivityIndicator",
    "size",
    "circles",
    "Array",
    "_",
    "index",
    "background",
    "width",
    "height",
    "DeleteButton",
    "question",
    "icon",
    "prefix",
    "window",
    "confirm",
    "Gallery",
    "images",
    "deleteImage",
    "loading",
    "setLoading",
    "setTimeout",
    "moreHandler",
    "replace",
    "image",
    "alt",
    "src",
    "deleteHandler",
    "App",
    "exact",
    "path",
    "SET_IMAGES",
    "initialState",
    "AppReducer",
    "state",
    "action",
    "AppState",
    "useReducer",
    "dispatch",
    "a",
    "Promise",
    "resolve",
    "reject",
    "reader",
    "FileReader",
    "readAsText",
    "onload",
    "fileContent",
    "JSON",
    "parse",
    "result",
    "galleryImages",
    "Provider",
    "newImages",
    "img",
    "Image",
    "URL",
    "createObjectURL",
    "reportWebVitals",
    "onPerfEntry",
    "Function",
    "getCLS",
    "getFID",
    "getFCP",
    "getLCP",
    "getTTFB",
    "ReactDOM",
    "render",
    "StrictMode",
    "document",
    "getElementById"
  ],
  "mappings": "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",
  "file": "static/js/main.7a1713d6.chunk.js",
  "sourcesContent": [
    "import {createContext} from 'react';\n\nexport const AppContext = createContext();\n",
    "import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({\n                  color = '#16a085',\n                  moreClassName,\n                  title = 'Button',\n                  onClick = () => {\n                  },\n                  disabled = false,\n                }) => {\n  return (\n      <div style={{backgroundColor: disabled ? '#6c6c6c' : color}}\n           className={moreClassName ? `button ${moreClassName}` : 'button'}\n           onClick={() => {\n             !disabled && onClick();\n           }}>{title}</div>\n  );\n};\n\nButton.propTypes = {\n  color: PropTypes.string,\n  moreClassName: PropTypes.string,\n  title: PropTypes.string,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n};\n\nexport {Button};\n",
    "/* eslint-disable react-hooks/exhaustive-deps */\nimport React, {useRef, useEffect, useState} from 'react';\n\nexport const DDUploadProvider = ({children, onChange}) => {\n  const dropRef = useRef(null);\n  const [draggable, setDraggable] = useState(false);\n  const [dragCounter, setDragCounter] = useState(0);\n\n  useEffect(() => {\n    if (dragCounter === 0) {\n      setDraggable(false);\n    }\n  }, [dragCounter]);\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragIn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragCounter(prev => prev + 1);\n    setDraggable(true);\n  };\n  const handleDragOut = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragCounter(prev => prev - 1);\n  };\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDraggable(false);\n    setDragCounter(0);\n    onChange(e.dataTransfer.files);\n  };\n\n  useEffect(() => {\n    const dragElement = dropRef.current;\n    dragElement.addEventListener('dragenter', handleDragIn);\n    dragElement.addEventListener('dragleave', handleDragOut);\n    dragElement.addEventListener('dragover', handleDrag);\n    dragElement.addEventListener('drop', handleDrop);\n    return () => {\n      dragElement.removeEventListener('dragenter', handleDragIn);\n      dragElement.removeEventListener('dragleave', handleDragOut);\n      dragElement.removeEventListener('dragover', handleDrag);\n      dragElement.removeEventListener('drop', handleDrop);\n    };\n  }, []);\n\n  return (\n      <div className={'dd_upload_provider'} ref={dropRef}>\n        {draggable && <div className={'dd_upload_provider__modal'}/>}\n        {children}\n      </div>\n  );\n};\n",
    "import React, {useRef, useState, useContext} from 'react';\nimport {AppContext} from '../context/app/AppContext';\nimport {useHistory} from 'react-router-dom';\nimport {Button} from './Button';\nimport {DDUploadProvider} from './DDUploadProvider';\n\nexport const FilesUploader = () => {\n  const history = useHistory();\n  const [imageFiles, setImageFiles] = useState([]);\n  const [jsonFiles, setJsonFile] = useState(null);\n  const [jsonError, setJsonError] = useState(null);\n  const [url, setURL] = useState('');\n  const [error, setError] = useState(null);\n  const {uploadImages, dragUploadImage, onUploadFromUrl} = useContext(\n      AppContext);\n  const uploadInput = useRef(null);\n\n  const onFileChange = (files) => {\n    setError(null);\n    setJsonError(null);\n    if (files.length > 0) {\n      if (Object.values(files)\n          .some(file => file.type === 'image/jpeg' || file.type ===\n              'image/png')) {\n        setJsonFile(null);\n        setImageFiles(Object.values(files)\n            .filter(file => file.type === 'image/jpeg' || file.type ===\n                'image/png'));\n      } else {\n        setImageFiles([]);\n        setError('Файл имеет неверный тип.');\n      }\n    } else {\n      setError('Файлы не выбраны.');\n    }\n  };\n  const onFileJSONChange = (files) => {\n    console.log(files);\n    setError(null);\n    setJsonError(null);\n    if (files.length > 0) {\n      if (files[0].type === 'application/json') {\n        setImageFiles([]);\n        setJsonFile(files[0]);\n      } else {\n        setJsonFile(null);\n        setJsonError('Файл имеет неверный тип.');\n      }\n    } else {\n      setError('Файлы не выбраны.');\n    }\n  };\n  const onFileUpload = (file) => {\n    if (file.type === 'application/json') {\n      uploadImages(file).then(() => {\n        history.push('/gallery');\n      }).catch(error => setJsonError(error));\n    } else {\n      dragUploadImage(file);\n      history.push('/gallery');\n    }\n  };\n  const onChangeURL = (value) => {\n    if (jsonFiles || imageFiles) {\n      setJsonFile(null);\n      setImageFiles([]);\n    }\n    setURL(value);\n  };\n  const submit = () => {\n    if (imageFiles.length !== 0) {\n      console.log('image');\n      onFileUpload(imageFiles);\n    } else if (jsonFiles) {\n      console.log('json');\n      onFileUpload(jsonFiles);\n    } else {\n      onUploadFromUrl(url);\n      history.push('/gallery');\n    }\n  };\n\n  return (\n      <div className={'files_upload_provider'}>\n        <div className={'files_upload_provider__form'}>\n          <div className={'files_upload_provider__description_wrapper'}>\n            <DDUploadProvider onChange={(files) => onFileChange(files)}>\n              <p className={'files_upload_provider__description'}>Для выбора\n                файлов\n                нажмите на эту область или перетяните изображения</p>\n              <p className={'files_upload_provider__subtitle'}>(Выберите файлы\n                изображений)</p>\n              {imageFiles && imageFiles.map((file, i) => {\n                return <p key={file.name + i}\n                          className={'files_upload_provider__subtitle green'}>{i +\n                1}. {file.name}</p>;\n              })\n              }\n              {error &&\n              <p className={'files_upload_provider__subtitle red'}>{error}</p>}\n              <input\n                  ref={uploadInput}\n                  className={'files_upload_provider__click_input'}\n                  type=\"file\" onChange={e => onFileChange(e.target.files)}\n                  multiple\n              />\n            </DDUploadProvider>\n          </div>\n          <p className={'files_upload_provider__subtitle'}>- или -</p>\n          <input className={'files_upload_provider__url_input'}\n                 placeholder={'Введите URL изображения'}\n                 onChange={e => onChangeURL(e.target.value)}/>\n          <p className={'files_upload_provider__subtitle'}>- или -</p>\n          <label className={'files_upload_provider__json_wrapper'}>\n            <input name=\"file\" type=\"file\"\n                   className=\"files_upload_provider__json_input\"\n                   onChange={e => onFileJSONChange(e.target.files)}/>\n            <div\n                className={'files_upload_provider__json_div button '}>Обзор...\n            </div>\n            <p style={{flex: 1}}\n               className={`files_upload_provider__subtitle ${jsonError &&\n               'red'} ${jsonFiles && 'green'}`}>{jsonError || jsonFiles?.name ||\n            'Выбрать JSON файл'}</p>\n          </label>\n          <Button disabled={!imageFiles}\n                  moreClassName={'files_upload_provider__upload_button'}\n                  title={'Загрузить изображения в галлерею'}\n                  onClick={submit}\n          />\n        </div>\n      </div>\n  );\n};\n",
    "import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ActivityIndicator = ({\n                             color = '#68af58',\n                             size = 80,\n                           }) => {\n  const circles = [...Array(4)].map(\n      (_, index) => <div key={index} style={{background: `${color}`}}/>);\n\n  return (\n      <div className={'activity_indicator'}>\n        <div className={'activity_indicator__indicator'}\n             style={{width: size, height: size}}>\n          {circles}\n        </div>\n      </div>\n  );\n};\nActivityIndicator.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.number,\n};\n\nexport {ActivityIndicator};\n",
    "import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst DeleteButton = ({question, onClick, icon, color = 'red', prefix}) => {\n\n  return (\n      <div className={`${prefix}__delete_btn`} onClick={() => {\n        const conf = window.confirm(question);\n        conf && onClick();\n      }}>\n        <i className={icon} style={{color: color}}/>\n      </div>\n  );\n};\n\nDeleteButton.propTypes = {\n  color: PropTypes.string,\n  prefix: PropTypes.string,\n  icon: PropTypes.string,\n  question: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport {DeleteButton};\n",
    "import React, {useContext, useEffect, useState} from 'react';\nimport {AppContext} from '../context/app/AppContext';\nimport {ActivityIndicator} from './ActivityIndicator';\nimport {Button} from './Button';\nimport {useHistory} from 'react-router-dom';\nimport {DeleteButton} from './DeleteButton';\n\nexport const Gallery = () => {\n  const history = useHistory();\n  const {images, deleteImage} = useContext(AppContext);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false);\n    }, 1500);\n  }, []);\n\n  const moreHandler = () => {\n    history.replace('/');\n  };\n\n  const deleteHandler = (index) => {\n    deleteImage(index);\n  };\n  return (\n      <div className={'wrapper'}>\n        {loading ? <ActivityIndicator/> :\n            <div className={'gallery'}>\n              {\n                images.length > 0 &&\n                <Button title={'Загрузить еще'} moreClassName={'gallery__more'}\n                        onClick={moreHandler}/>\n              }\n              <div className={'gallery__layout'}>\n                {images.length > 0 ?\n                    images.map((image, index) => {\n                      return <div key={image.url + index}\n                                  className={'gallery__image_wrapper'}>\n                        <img\n                            className={'gallery__image'}\n                            alt={'description'}\n                            src={image.url}\n                        />\n                        <DeleteButton prefix={'gallery'}\n                                      question={'Вы действительно хотите удалить данное изображение?'}\n                                      icon={'fa fa-trash'} title={'Удалить'}\n                                      onClick={() => deleteHandler(index)}/>\n                      </div>;\n                    }) : <div className={'gallery__is_empty'}>\n                      <p>Изображения отсутствуют</p>\n                      <Button title={'Загрузить изображения'} moreClassName={''}\n                              onClick={moreHandler}/>\n                    </div>\n                }\n              </div>\n            </div>}\n      </div>\n  );\n};\n",
    "import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport './assets/App.scss';\nimport {FilesUploader} from './components/FilesUploader';\nimport {Gallery} from './components/Gallery';\n\nfunction App() {\n  return (\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            <FilesUploader/>\n          </Route>\n          <Route path=\"/gallery\">\n            <Gallery/>\n          </Route>\n        </Switch>\n      </Router>\n  );\n}\n\nexport default App;\n",
    "export const SET_IMAGES = 'SET_IMAGES';\n\n",
    "import {\n  SET_IMAGES,\n} from './types';\n\nexport const initialState = {\n  images: [\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550746.jpg',\n    //   'width': 640,\n    //   'height': 426,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964007.jpg',\n    //   'width': 1920,\n    //   'height': 1200,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550739.jpg',\n    //   'width': 640,\n    //   'height': 426,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964009.jpg',\n    //   'width': 436,\n    //   'height': 650,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550740.jpg',\n    //   'width': 600,\n    //   'height': 400,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964008.jpg',\n    //   'width': 509,\n    //   'height': 339,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964011.jpg',\n    //   'width': 900,\n    //   'height': 450,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550755.jpg',\n    //   'width': 480,\n    //   'height': 640,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964013.jpg',\n    //   'width': 472,\n    //   'height': 640,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550745.jpg',\n    //   'width': 640,\n    //   'height': 425,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964014.jpg',\n    //   'width': 240,\n    //   'height': 320,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964016.jpg',\n    //   'width': 540,\n    //   'height': 337,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964020.jpg',\n    //   'width': 1600,\n    //   'height': 1000,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964010.jpg',\n    //   'width': 1506,\n    //   'height': 575,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550754.jpg',\n    //   'width': 1280,\n    //   'height': 1276,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964021.jpg',\n    //   'width': 1280,\n    //   'height': 800,\n    // },\n    // {\n    //   'url': 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964012.jpg',\n    //   'width': 787,\n    //   'height': 787,\n    // },\n  ],\n};\n\nexport default function AppReducer(state, action) {\n  switch (action.type) {\n    case SET_IMAGES:\n      return {...state, images: action.images};\n    default:\n      return state;\n  }\n}\n",
    "import React, {useReducer} from 'react';\nimport {AppContext} from './AppContext';\nimport AppReducer, {initialState} from './AppReducer';\nimport {SET_IMAGES} from './types';\n\nexport const AppState = ({children}) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  const dragUploadImage = (files) => {\n    const images = state.images;\n    const newImages = files.map(file => {\n      const img = new Image();\n      img.src = URL.createObjectURL(file);\n      return {\n        url: img.src,\n      };\n    });\n    dispatch({\n      type: SET_IMAGES,\n      images: [...images, ...newImages],\n    });\n  };\n\n  const uploadImages = async (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsText(file, 'utf8');\n      reader.onload = function(e) {\n        const fileContent = JSON.parse(e.target.result);\n        if (fileContent.galleryImages) {\n          dispatch({\n            type: SET_IMAGES,\n            images: [...state.images, ...fileContent.galleryImages],\n          });\n          resolve(state.images);\n        } else {\n          reject('Неверная структура файла');\n        }\n      };\n    });\n  };\n\n  const deleteImage = (index) => {\n    dispatch({\n      type: SET_IMAGES,\n      images: state.images.filter((_, i) => i !== index),\n    });\n  };\n\n  const onUploadFromUrl = (url) => {\n    console.log(url);\n    dispatch({\n      type: SET_IMAGES,\n      images: [...state.images, {url: url}],\n    });\n  };\n\n  return (\n      <AppContext.Provider\n          value={{\n            images: state.images,\n            dragUploadImage,\n            uploadImages,\n            deleteImage,\n            onUploadFromUrl,\n          }}\n      >\n        {children}\n      </AppContext.Provider>\n  );\n};\n",
    "const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n",
    "import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/index.scss';\nimport App from './App';\nimport {AppState} from './context/app/AppState';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n      <AppState>\n        <App/>\n      </AppState>\n    </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n"
  ],
  "sourceRoot": ""
}
